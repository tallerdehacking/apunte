<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.e694d66a3c6fa2afcf7e22fe274cbf7b68826715be967e6a094a0037ad19d8af7fd4aea40cbda5561cbd6de1467925a993b85f84e42079c0ff1bf116de1b226c.css integrity="sha512-5pTWajxvoq/PfiL+J0y/e2iCZxW+ln5qCUoAN60Z2K9/1K6kDL2lVhy9beFGeSWpk7hfhOQgecD/G/EW3hsibA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Versionado y Recuperación de Archivos - Taller de Hacking Competitivo</title><meta name=description content="DCC universidad de Chile"><link rel=canonical href=/docs/forense/versionado-recuperacion/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/logo_redondo.png"><meta name=twitter:title content="Versionado y Recuperación de Archivos"><meta name=twitter:description content="Esta página tratará de dos enfoques distintos para recuperar información. El primero corresponde al uso de sistemas de control de versiones, mientras que el segundo desc
Sistemas de Control de Versión Al desarrollar aplicaciones, se suelen utilizar sistemas de control de versión, tanto para administrar las colaboraciones de múltiples personas o equipos, como para llevar un historial en el tiempo de los cambios realizados en el código. Esto último es bastante beneficioso en casos en los que es necesario revertir algún cambio, pero puede llevar a la persistencia de la difusión accidental de valores confidenciales."><meta name=twitter:site content="@dccuchile"><meta name=twitter:creator content="@dccuchile"><meta property="og:title" content="Versionado y Recuperación de Archivos"><meta property="og:description" content="Esta página tratará de dos enfoques distintos para recuperar información. El primero corresponde al uso de sistemas de control de versiones, mientras que el segundo desc
Sistemas de Control de Versión Al desarrollar aplicaciones, se suelen utilizar sistemas de control de versión, tanto para administrar las colaboraciones de múltiples personas o equipos, como para llevar un historial en el tiempo de los cambios realizados en el código. Esto último es bastante beneficioso en casos en los que es necesario revertir algún cambio, pero puede llevar a la persistencia de la difusión accidental de valores confidenciales."><meta property="og:type" content="article"><meta property="og:url" content="/docs/forense/versionado-recuperacion/"><meta property="og:image" content="/logo_redondo.png"><meta property="article:published_time" content="2020-10-06T08:48:45+00:00"><meta property="article:modified_time" content="2024-05-05T21:39:52-04:00"><meta property="og:site_name" content="Taller de Hacking Competitivo"><meta property="article:publisher" content="https://www.facebook.com/DCCUChile"><meta property="article:author" content="https://www.facebook.com/DCCUChile"><meta property="og:locale" content="es_CL"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"\/"},{"@type":"ListItem","position":2,"name":"Docsforenseversionado Recuperacion","item":"\/docsforenseversionado-recuperacion\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 mr-auto" href=/><img class=logo-light src=/images/banner.svg></img>
<img class=logo-dark src=/images/banner_dark.svg></img></a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/cc5325/apunte><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ml-2 sr-only">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav mr-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=/blog/>Videos</a></li><li class=nav-item><a class=nav-link href=/docs/prologo/intro>Apunte</a></li><li class=nav-item><a class=nav-link href=/writeups/>Writeups</a></li><li class=nav-item><a class=nav-link href=/tareas/>Evaluaciones</a></li><li class=nav-item><a class=nav-link href=/acerca>Acerca</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Buscar Documentación..." aria-label="Buscar Documentación..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Prólogo</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/prologo/intro/>Prólogo</a></li></ul><h3>Esteganografía</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/stego/intro/>Intro a la Esteganografía</a></li><li><a class=docs-link href=/docs/stego/conceptos-basicos/>Conceptos Básicos</a></li><li><a class=docs-link href=/docs/stego/cripto-clasica/>Criptografía Clásica</a></li><li><a class=docs-link href=/docs/stego/stego/>Stego en texto, imágenes y audio</a></li><li><a class=docs-link href=/docs/stego/ejercicios/>Ejercicios de Stego</a></li></ul><h3>Criptografía Moderna</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/cripto-moderna/intro/>Intro a Criptografía Moderna</a></li><li><a class=docs-link href=/docs/cripto-moderna/hashing/>Hashing</a></li><li><a class=docs-link href=/docs/cripto-moderna/cripto-simetrica/>Criptografía Simétrica</a></li><li><a class=docs-link href=/docs/cripto-moderna/cripto-asimetrica/>Criptografía Asimétrica</a></li><li><a class=docs-link href=/docs/cripto-moderna/ejercicios/>Ejercicios Cripto Moderna</a></li></ul><h3>Aplicaciones Web</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/apps-web/intro/>Intro a Aplicaciones Web</a></li><li><a class=docs-link href=/docs/apps-web/tecnicas-basicas/>Técnicas Básicas de Análisis Web</a></li><li><a class=docs-link href=/docs/apps-web/xss/>Cross-Site Scripting</a></li><li><a class=docs-link href=/docs/apps-web/inyecciones/>Inyecciones</a></li><li><a class=docs-link href=/docs/apps-web/rce/>Remote Code Execution</a></li><li><a class=docs-link href=/docs/apps-web/reverse-shell/>Reverse Shell</a></li><li><a class=docs-link href=/docs/apps-web/access-control/>Broken Access Control</a></li><li><a class=docs-link href=/docs/apps-web/cve/>Common Vulnerabilities and Exposures</a></li><li><a class=docs-link href=/docs/apps-web/ejercicios/>Ejercicios Apps Web</a></li></ul><h3>Análisis Forense</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/forense/intro/>Introducción al Análisis Forense</a></li><li><a class=docs-link href=/docs/forense/cmd-logs/>Comandos, Logs y Configuraciones</a></li><li><a class="docs-link active" href=/docs/forense/versionado-recuperacion/>Versionado y Recuperación de Archivos</a></li><li><a class=docs-link href=/docs/forense/wireshark/>Wireshark</a></li><li><a class=docs-link href=/docs/forense/ejercicios/>Ejercicios de Forense</a></li></ul><h3>Ingeniería Reversa</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/reversa/intro/>Intro a la Ingeniería Reversa</a></li><li><a class=docs-link href=/docs/reversa/decompiling/>Decompilación</a></li><li><a class=docs-link href=/docs/reversa/deobfuscation/>Deobfuscación</a></li><li><a class=docs-link href=/docs/reversa/ejercicios/>Ejercicios Reversing</a></li></ul><h3>Pwning</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/pwning/intro/>Intro al Pwning</a></li><li><a class=docs-link href=/docs/pwning/permisos-linux/>Permisos de Usuario en Linux</a></li><li><a class=docs-link href=/docs/pwning/escalamiento-privilegios/>Escalamiento de Privilegios</a></li><li><a class=docs-link href=/docs/pwning/buffer-overflow/>Buffer Overflow</a></li><li><a class=docs-link href=/docs/pwning/ejercicios/>Ejercicios de Pwning</a></li></ul><h3>OSINT</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/osint/intro/>Intro a OSINT</a></li><li><a class=docs-link href=/docs/osint/google/>Google Hacking</a></li><li><a class=docs-link href=/docs/osint/github/>Búsqueda en Github</a></li><li><a class=docs-link href=/docs/osint/theharvester/>The Harvester</a></li><li><a class=docs-link href=/docs/osint/haveibeenpwned/>Have I Been Pwned</a></li><li><a class=docs-link href=/docs/osint/shodan/>Shodan</a></li><li><a class=docs-link href=/docs/osint/ejercicios/>Ejercicios OSINT</a></li></ul><h3>Hardware</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/hardware/intro/>Intro a Hardware</a></li><li><a class=docs-link href=/docs/hardware/firmware/>Reversing de Firmware</a></li><li><a class=docs-link href=/docs/hardware/communication/>Protocolos de Comunicación</a></li><li><a class=docs-link href=/docs/hardware/ejercicios/>Ejercicios de Hardware</a></li></ul><h3>Anexos</h3><ul class=list-unstyled><li><a class=docs-link href=/docs/anexos/herramientas/>Herramientas</a></li><li><a class=docs-link href=/docs/anexos/vpn/>Configuración de VPN</a></li><li><a class=docs-link href=/docs/anexos/kali/>Kali Linux</a></li><li><a class=docs-link href=/docs/anexos/proxy/>Proxy</a></li><li><a class=docs-link href=/docs/anexos/comandos/>Comandos de Terminal de Linux</a></li><li><a class=docs-link href=/docs/anexos/referencias/>Referencias</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>Contenidos</h3><nav id=TableOfContents><ul><li><a href=#sistemas-de-control-de-versión>Sistemas de Control de Versión</a><ul><li><a href=#git>Git</a></li></ul></li><li><a href=#almacenamiento-en-linux>Almacenamiento en Linux</a><ul><li><a href=#conceptos-generales>Conceptos Generales</a></li><li><a href=#herramientas-útiles>Herramientas útiles</a></li></ul></li><li><a href=#recuperación-de-archivos>Recuperación de archivos</a><ul><li><a href=#problemas-recurrentes>Problemas recurrentes</a></li><li><a href=#herramientas>Herramientas</a></li></ul></li><li><a href=#imágenes-forenses>Imágenes Forenses</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>Versionado y Recuperación de Archivos</h1><p class=lead></p><p>Esta página tratará de dos enfoques distintos para recuperar información. El primero corresponde al uso de sistemas de control de versiones, mientras que el segundo desc</p><h2 id=sistemas-de-control-de-versión>Sistemas de Control de Versión<a href=#sistemas-de-control-de-versión class=anchor aria-hidden=true>#</a></h2><p>Al desarrollar aplicaciones, se suelen utilizar <strong>sistemas de control de versión</strong>, tanto para administrar las colaboraciones de múltiples personas o equipos, como para llevar un historial en el tiempo de los cambios realizados en el código. Esto último es bastante beneficioso en casos en los que es necesario revertir algún cambio, pero puede llevar a la persistencia de la difusión accidental de valores confidenciales.</p><p>A modo de ejemplo, en el curso veremos herramientas para revisar el sistema de control de versión <em>git</em>. Sin embargo, muchas de estas técnicas podrían aplicar de igual manera en otros sistemas, como <em>Mercurial</em>, <em>SVN</em>, <em>Pijul</em>, etc.\</p><h3 id=git>Git<a href=#git class=anchor aria-hidden=true>#</a></h3><p><a href=https://git-scm.com/>Git</a> es un sistema de control de archivos distribuido creado por Linus Torvalds el año 2005, para utilizarlo en el desarrollo del Kernel de Linux en reemplazo a una herramienta llamada <code>BitKeeper</code>. Hoy es una de las herramientas más populares para el control de versiones de código.</p><h4 id=funcionamiento-de-git>Funcionamiento de Git<a href=#funcionamiento-de-git class=anchor aria-hidden=true>#</a></h4><p>Git almacena información del versionamiento en dos estructuras distintas:</p><ul><li>Un <strong>índice mutable</strong> que almacena el estado actual del versionamiento.</li><li>Un <em>storage</em> de <strong>objetos inmutables</strong> que guarda todas las versiones almacenadas de los archivos del repositorio.</li></ul><p>Además, define los siguientes conceptos para manejar el versionamiento:</p><ul><li><code>Blob</code> representa una versión completa de un archivo, guardada en el <em>storage</em> inmutable.</li><li><code>Commit</code> es un conjunto de blobs y representa un estado en el repositorio, identificado por un <em>hash SHA-1</em>. Un commit puede tener uno o más <em>padres</em>.</li><li><code>Branch</code> o <code>rama</code> es un puntero a un conjunto de <em>commits</em> representado por el último commit de la rama. A medida se agregan commits en una rama, el puntero se va moviendo de forma automática. Lo anterior genera una estructura similar a un <code>árbol</code>.</li><li><code>Remote</code> representa una versión del mismo repositorio en una máquina remota. Es posible enviar los cambios locales a esa versión (<code>push</code>) o traerse cambios remotos de esa versión (<code>pull</code>).</li><li><code>Staging</code> es donde se almacenan los archivos que desean ser agregados al próximo commit.</li><li><code>master</code> o <code>main</code> es el nombre del puntero al último commit de la rama principal.</li><li><code>tag</code> es una referencia fija a algún commit en especial. Son útiles para marcar en el arbol</li><li><code>HEAD</code> es un puntero al último commit de la rama actual.</li></ul><h4 id=comandos-útiles-en-git>Comandos útiles en Git<a href=#comandos-útiles-en-git class=anchor aria-hidden=true>#</a></h4><ul><li><strong>Inicializar Repositorio</strong>: <code>git init</code></li><li><strong>Clonar Repositorio</strong>: <code>git clone &lt;url></code></li><li><strong>Revisar el historial de cambios</strong>: <code>git log</code></li><li><strong>Cambiar el estado al commit padre</strong>: <code>git checkout HEAD^</code></li><li><strong>Deshacer cambios (y perderlos)</strong>: <code>git reset --hard</code></li><li><strong>Agregar carpeta <code>a</code> y su contenido a <code>staging</code></strong>: <code>git add a</code></li><li><strong>Crear un <code>commit</code> con los cambios en <code>staging</code> y el mensaje <code>commit message</code></strong>: <code>git commit -m "commit message"</code></li></ul><h4 id=explorar-historial-de-cambios>Explorar historial de cambios<a href=#explorar-historial-de-cambios class=anchor aria-hidden=true>#</a></h4><p>La forma más fácil de hacerlo es con un programa de interfaz gráfica, como por ejemplo, <code>gitk</code>. En clases veremos cómo usar este programa.</p><h2 id=almacenamiento-en-linux>Almacenamiento en Linux<a href=#almacenamiento-en-linux class=anchor aria-hidden=true>#</a></h2><p>En esta parte del apunte hablaremos un poco acerca del manejo de dispositivos de almacenamiento en Linux. También mostraremos algunos comandos para ejecutar tareas básicas para crear, listar y borrar particiones.</p><h3 id=conceptos-generales>Conceptos Generales<a href=#conceptos-generales class=anchor aria-hidden=true>#</a></h3><ul><li><p><strong>Dispositivo de Almacenamiento Secundario</strong>: Cualquier dispositivo que permita almacenar información de forma persistente. Algunos ejemplos de este tipo de dispositivos son los discos duros, las unidades de estado sólido (SSD), las tarjetas flash (SD, MMC, cartuchos de videojuegos), diskettes, CDs (no permiten reescritura), DVDs, etc.</p></li><li><p><strong>Tabla de Particiones</strong>: Un dispositivo de almacenamiento secundario puede dividirse en una o más unidades lógicas de almacenamiento, las cuales se conocen como particiones. La cantidad de particiones y su ubicación en el espacio físico de almacenamiento se definen en la <strong>tabla de particiones</strong>. Las siguientes son tipos de tablas de particiones comunes:</p><ul><li><strong>MBR</strong>: (Master boot record) Tabla de particiones usada en versiones antiguas de Windows y Linux. Tenía varias limitaciones, como tamaño máximo de particiones y cantidad de particiones por disco.</li><li><strong>GPT</strong>: (GUID Partition Table) Tabla de particiones usada en computadores modernos con Windows y Linux. Es más</li></ul></li><li><p><strong>Sistemas de Archivos</strong>: Guardar información en un dispositivo de almacenamiento no es una tarea directa. En general, aparte de la información a guardar, uno desea guardar metainformación extra asociada a cada archivo, como nombre, fecha de creación o modificación, propietario, permisos, ubicación, etc. Al mismo tiempo, uno podría querer que el mismo dispositivo se encargue de algunas tareas comunes, como llevar respaldo de los archivos a medida se modifican u optimizar el uso de espacio en casos en que hay mucha información redundante. Este tipo de funcionalidades se pueden definir a nivel del sistema de archivos asociado a la partición. Algunos sistemas de archivos conocidos son:</p><ul><li><strong>FAT, FAT12, FAT16, FAT32 y exFAT</strong>: File Allocation Table es un sistema de archivos creado a fines de los años 70. Cada versión mencionada se diferencia en el tamaño máximo de los archivos que puede almacenar y del tamaño máximo de la partición. FAT32 soporta volúmenes de hasta 2 TeraBytes, mientras que exFAT soporta hasta 128 PetaBytes.</li><li><strong>NTFS</strong>: Sistema de Archivos propietario de Microsoft y usado principalmente en la familia de sistemas operativos Windows NT. Soporta una mayor cantidad de metadatos, el uso de listas de control de acceso y el uso de <a href=https://en.wikipedia.org/wiki/Journaling_file_system>Journaling</a> para evitar errores de escritura.</li><li><strong>ext2, ext3 y ext4</strong>: Sistemas de archivos usados en Linux principalmente. ext3 y ext4 se caracterizan por ser <em>journaled</em>. Las versiones más nuevas soportan además volúmenes más grandes.</li><li><strong>ZFS</strong>: Sistema de archivos con hartas características que lo hacen ideal para el manejo de respaldos o grandes volúmenes de datos.</li><li><strong>BTRFS</strong>: Sistema de archivos con capacidades de integridad y respaldo de archivos.</li><li><strong>HFS, HFS+ y APFS</strong>: Sistemas de archivos usados principalmente en sistemas operativos OSX/macOS. HFS+ y APFS son <em>journaled</em>. APFS posee funcionalidades de respaldos, cifrado, optimizaciones para SSDs y revisión de integridad de archivos como parte de las funcionalidades básicas del sistema de archivos.</li></ul></li><li><p><strong>Montar/Desmontar un sistema de archivos</strong>: Para utilizar un sistema de archivos en Linux, es necesario montarlo en una carpeta del sistema. Luego de hacerlo, los archivos del sistema de archivos se verán en esa carpeta.</p></li><li><p><strong><em>Block Devices</em></strong>: En Linux, varios dispositivos se comportan como si fueran archivos en el sistema. En el caso de los dispositivos de almacenamiento, estos se suelen mostrar como dos tipos de archivos. En la práctica, los <em>Block Devices</em> permiten leer y escribir directamente de o en los dispositivos de almacenamiento. Por ejemplo, si quisiera copiar un disco completo identificado en el sistema como el archivo <code>/dev/sda</code>, basta con <em>copiar</em> esa ruta por completo (con un comando especial). Lo mismo si quisiera cargar un respaldo en un disco (debo <em>escribir</em> en ese archivo la imagen de respaldo).</p></li><li><p><strong>Dispositivos loop</strong>: Son seudo dispositivos de almacenamiento, los cuales permiten hacer que un archivo común y corriente actúe como un dispositivo de bloques. Si se montan con un comando especial, aparecerán como dispositivos de bloque.</p></li></ul><h3 id=herramientas-útiles>Herramientas útiles<a href=#herramientas-útiles class=anchor aria-hidden=true>#</a></h3><ul><li><code>lsblk</code>: Muestra todos los dispositivos de almacenamiento de bloque en el sistema.</li><li><code>gparted</code>: Permite crear particiones con una interfaz gráfica muy simple de usar.</li><li><code>gnome-disks</code>: Permite revisar dispositivos de almacenamiento conectados, crear imágenes de ellos y montar imágenes virtuales. También tiene funcionalidades limitadas para formatear y crear particiones y tablas de particiones.</li><li><code>dd</code>: Permite copiar a bajo nivel información de sistemas de archivos en respaldos u otros sistemas de archivos. Debido a que trabaja en muy bajo nivel (byte a byte en el dispositivo), su mal uso puede ser muy peligroso.<ul><li>Ej: <code>dd if=/dev/sda of=backup.img status=progress</code>: Copia el dispositivo de bloque <code>/dev/sda</code> al archivo backup.img</li></ul></li><li><code>losetup</code>: Permite configurar <em>loop devices</em>:<ul><li>Ej: <code>sudo losetup /dev/loop0 backup.img</code> transforma la imagen en un dispositivo <em>loop</em>.</li></ul></li><li><code>mount</code>: Permite montar un sistema de archivos en una carpeta.<ul><li>Ej: <code>sudo mount /dev/sda /mnt</code> Monta el dispositivo de bloque <code>/dev/sda</code> en la carpeta <code>/mnt</code></li></ul></li><li><code>umount</code>: Permite desmontar una carpeta a la que previamente se le montó un sistema de archivos.<ul><li>Ej: <code>sudo umount /dev/sda</code> desmonta el dispositivo de bloque <code>/dev/sda</code>.</li><li>Ej2: <code>sudo umount /mnt</code> desmonta el dispositivo de bloque que se montó previamente en <code>/mnt</code>.</li></ul></li></ul><h2 id=recuperación-de-archivos>Recuperación de archivos<a href=#recuperación-de-archivos class=anchor aria-hidden=true>#</a></h2><p>En problemas de forense, puede que sea necesario tratar con soportes de almacenamiento dañados o con archivos borrados. A continuación se nombran algunos de estos problemas posibles y qué programas podemos usar para resolverlos.</p><h3 id=problemas-recurrentes>Problemas recurrentes<a href=#problemas-recurrentes class=anchor aria-hidden=true>#</a></h3><ul><li><strong>Recuperación de Archivos dañados</strong>: Es posible que contemos con uno o más archivos dañados, y queramos repararlos para acceder de forma parcial o total a su contenido. Para lo anterior, sería necesario un programa especializado para el tipo de archivo, que aproveche algunas de las propiedades del formato para recuperar la información. Cabe destacar que no todos los tipos de archivos son reparables o recuperables con estos métodos, y en general es muy probable que parte de la información se corrompa.</li><li><strong>Recuperación de Archivos Eliminados</strong>: Cuando se elimina un archivo de un soporte de almacenamiento, en general no se borra, sino que se elimina de un <em>índice</em> del mismo soporte. Si escaneáramos byte a byte el soporte de almacenamiento, existe la posibilidad de recuperar el archivo de forma total o parcial, siempre y cuando ese espacio de memoria no haya sido sobreescrito por otro archivo.</li><li><strong>Uso de Archivos Temporales para recuperar información</strong>: Algunos programas de edición de archivos guardan versiones temporales de estos en carpetas especiales. En algunos casos es posible recuperar el contenido de un documento importante a partir de los archivos temporales.</li><li><strong>Reparación de componentes físicas del dispositivo de almacenamiento</strong>: En casos más complejos, es posible que el soporte de almacenamiento se encuentre dañado físicamente. El daño podría ser bajo, como por ejemplo, sectores del disco duro ilegibles. Sin embargo, también podría extenderse de tal forma que el dispositivo no es reconocible por el sistema operativo. En el primer caso, muchas veces es posible reparar el sistema de archivos de forma manual. En el segundo caso, puede ser necesario incluso contratar servicios de recuperación de datos especializados.</li><li><strong>Reparación de sistemas de archivos</strong>: A veces el daño no ocurre a nivel de hardware, sino que está relacionado con los datos almacenados en el soporte que identifican el contenido dentro del dispositivo. Por ejemplo, podría dañarse el índice del disco o su tabla de particiones, para lo cual se requeriría regenerarla o repararla para poder acceder a su contenido.</li></ul><h3 id=herramientas>Herramientas<a href=#herramientas class=anchor aria-hidden=true>#</a></h3><ul><li><a href=https://www.cgsecurity.org/wiki/TestDisk><strong>Testdisk</strong> (Linux, software libre)</a></li><li><a href=https://www.gnu.org/software/ddrescue/><strong>ddrescue</strong> (GNU/Linux, software libre)</a></li><li><a href=https://en.wikipedia.org/wiki/Fsck><strong>FSCK</strong> (Linux, software libre)</a></li><li><a href=https://en.wikipedia.org/wiki/CHKDSK><strong>CHKDSK</strong> (Windows)</a></li><li><a href=https://www.ccleaner.com/recuva><strong>Recuva</strong> (Windows, software privativo)</a></li></ul><h2 id=imágenes-forenses>Imágenes Forenses<a href=#imágenes-forenses class=anchor aria-hidden=true>#</a></h2><p>En casos más realistas, es posible que se les proporcionen imágenes forenses tanto de discos duros/SSDs como de memoria RAM. Estas imágenes pueden ser creadas y revisadas con aplicaciones especiales. Algunas son comerciales, como <a href=https://www.opentext.com/products/encase-forensic>EnCase Forensic</a>, mientras que otras son abiertas o gratuitas:</p><ul><li><a href=https://www.exterro.com/digital-forensics-software/ftk-imager><strong>FTK Imager</strong></a> Herramienta popular utilizada para generar y revisar imágenes forenses (extensión .E01)</li><li><a href=https://volatilityfoundation.org/><strong>Volatility</strong> (Multiplataforma, Open source)</a> Herramienta en Python para revisar y explorar imágenes de memoria RAM. Existen dos versiones de uso común (Volatility 2 y Volatility 3), cada una con plugins específicos.</li><li><a href=https://github.com/sleuthkit/autopsy><strong>Autopsy</strong> (Linux y Windows)</a> Permite abrir imágenes forenses generadas por FTK Imager y otras aplicaciones (contando con los plugins adecuados)</li><li><a href=https://github.com/504ensicsLabs/LiME><strong>Linux Memory Extractor (LiME)</strong></a> Herramienta para extraer una imagen de memoria de un dispositivo con kernel de Linux compatible.</li></ul><p class=edit-page><a href=https://github.com/cc5325/apunte/blob/main/content/docs/forense/versionado-recuperacion.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Editar en GitHub</a>
<span class=date-info><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>Modificado por última vez el 05/05/2024 a las 21:39:52 hrs.</span></p><div class="docs-navigation d-flex justify-content-between"><a href=/docs/forense/cmd-logs/><div class="card my-1"><div class="card-body py-2">&larr; Comandos, Logs y Configuraciones</div></div></a><a class=ml-auto href=/docs/forense/wireshark/><div class="card my-1"><div class="card-body py-2">Wireshark &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Sitio generado con <a href=https://gohugo.io/>Hugo</a> y <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-right"><ul class=list-inline><a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target=_blank rel="license noopener noreferrer" style=display:inline-block>CC BY-SA 4.0<img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></ul></div></div></div></footer><script src=/main.2507c05f91ee016250e43b67b3d342f5a0d9d4dc5264f76cdc4518cd36a9e04cf3022ce8362802e618d8130b6733b53ee845a49e67229eeb3d3e70347db96a2b.js integrity="sha512-JQfAX5HuAWJQ5Dtns9NC9aDZ1NxSZPds3EUYzTap4EzzAizoNigC5hjYEwtnM7U+6EWknmcinus9PnA0fblqKw==" crossorigin=anonymous defer></script><script src=/index.min.3b1f210c1dcacbb50243e4eff1a3e28b20636cd64af981ccaff4ff25daf50cc6f51898e89ce578389c967207038a3eba8ecc078bee1c32f940332d2c00dc7aa5.js integrity="sha512-Ox8hDB3Ky7UCQ+Tv8aPiiyBjbNZK+YHMr/T/Jdr1DMb1GJjonOV4OJyWcgcDij66jswHi+4cMvlAMy0sANx6pQ==" crossorigin=anonymous defer></script><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:true,processEnvironments:true},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}};window.addEventListener('load',(event)=>{document.querySelectorAll("mjx-container").forEach(function(x){x.parentElement.classList+='has-jax'})});</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></body></html>